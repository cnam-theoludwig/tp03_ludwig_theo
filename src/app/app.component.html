<app-header />

<main
  class="md:mx-auto md:max-w-4xl lg:max-w-7xl px-6 min-h-[calc(100vh-152px)]"
>
  <section class="my-6">
    <form
      class="flex flex-col sm:flex-row justify-between gap-4"
      (submit)="onSubmit($event)"
    >
      <app-input-search
        placeholder="Rechercher..."
        [searchQuery]="(searchQuery$ | async) ?? ''"
        (changeSearch)="handleSearch($event)"
        class="grow"
      ></app-input-search>

      <select appSelect id="category" name="category">
        <option value="all">Toutes catégories</option>
        <option value="1">Cocktail</option>
        <option value="2">Smoothie</option>
        <option value="3">Thé</option>
        <option value="4">Café</option>
      </select>
    </form>

    @if (products$ | async; as productsList) {
      @if (isLoading) {
        <app-product-list-skeleton></app-product-list-skeleton>
      } @else {
        <app-product-list [products]="productsList"></app-product-list>
      }
    } @else {
      <app-product-list-skeleton></app-product-list-skeleton>
    }
  </section>
</main>

<app-footer />
